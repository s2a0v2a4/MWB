import { Controller, Get, Post, Body } from '@nestjs/common';

@Controller('api/interests') // <- Ã„ndere von 'interests' zu 'api/interests'
export class InterestsController {
  private userInterests: number[] = [];

  @Get()
  getInterests() {
    return {
      interests: this.userInterests,
      count: this.userInterests.length
    };
  }

  @Post()
  saveInterests(@Body() body: { interests: number[] }) {
    if (!Array.isArray(body.interests)) {
      throw new Error('Invalid interests - must be an array');
    }

    this.userInterests = body.interests;
    return {
      success: true,
      savedInterests: body.interests,
      message: 'Interests saved successfully'
    };
  }
}